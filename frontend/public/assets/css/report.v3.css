/* MUST respect hidden (fixes skeleton staying forever) */
[hidden] {
    display: none !important;
}

:root {
    --bg0: #070713;
    --bg1: #120b22;
    --glass: rgba(255, 255, 255, .06);
    --glass2: rgba(255, 255, 255, .08);
    --stroke: rgba(255, 255, 255, .12);
    --stroke2: rgba(255, 255, 255, .18);
    --text: rgba(255, 255, 255, .92);
    --muted: rgba(255, 255, 255, .68);
    --muted2: rgba(255, 255, 255, .52);
    --shadow: 0 18px 65px rgba(0, 0, 0, .50);
    --r: 20px;
}

* {
    box-sizing: border-box;
}

html,
body {
    height: 100%;
}

body {
    margin: 0;
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color: var(--text);
    background: radial-gradient(900px 700px at 20% 10%, #2b1552 0%, transparent 60%),
        radial-gradient(900px 700px at 80% 20%, #0f2a74 0%, transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
    overflow-x: hidden;
}

.bg {
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: .45;
}

.grain {
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: .10;
    mix-blend-mode: overlay;
}

.wrap {
    max-width: 1180px;
    margin: 0 auto;
    padding: 22px 18px 40px;
}

.topbar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 14px;
    padding: 12px 14px;
    border-radius: 18px;
    background: linear-gradient(180deg, rgba(255, 255, 255, .07), rgba(255, 255, 255, .04));
    border: 1px solid var(--stroke);
    box-shadow: var(--shadow);
    position: sticky;
    top: 14px;
    z-index: 40;
    backdrop-filter: blur(10px);
}

.brand {
    display: flex;
    align-items: center;
    gap: 12px;
}

.mark {
    width: 14px;
    height: 14px;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 30%, #b278ff 0%, #6f32ff 55%, #3a1b8f 100%);
    box-shadow: 0 0 0 6px rgba(178, 120, 255, .14);
}

.brandName {
    font-weight: 800;
    letter-spacing: .2px;
}

.brandSub {
    font-size: 12px;
    color: var(--muted2);
    margin-top: 2px;
}

.chips {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: flex-end;
}

.chip {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .06);
    border: 1px solid rgba(255, 255, 255, .12);
    color: var(--text);
    text-decoration: none;
    font-weight: 600;
    font-size: 13px;
}

.chip.strong {
    background: rgba(160, 110, 255, .14);
    border-color: rgba(160, 110, 255, .30);
}

.shell {
    margin-top: 18px;
}

.panel {
    border-radius: 26px;
    border: 1px solid var(--stroke);
    background: rgba(10, 10, 22, .35);
    box-shadow: var(--shadow);
    padding: 16px;
    overflow: hidden;
}

/* ---------- CARDS / GRIDS ---------- */
.rHeroGrid {
    display: grid;
    grid-template-columns: 1.2fr .9fr;
    gap: 14px;
    align-items: stretch;
}

.rGrid2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-top: 14px;
}

.rCard {
    border-radius: 22px;
    border: 1px solid var(--stroke);
    background: linear-gradient(180deg, rgba(255, 255, 255, .07), rgba(255, 255, 255, .04));
    box-shadow: 0 18px 65px rgba(0, 0, 0, .35);
    padding: 16px 16px;
    min-width: 0;
}

.rCardTitle {
    font-weight: 850;
    letter-spacing: .2px;
    font-size: 16px;
}

.rCardSub {
    margin-top: 4px;
    color: var(--muted);
    font-size: 13px;
}

.rResultTop {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
}

.rDecision {
    font-weight: 900;
    font-size: 20px;
    line-height: 1.15;
}

.rDecisionSub {
    margin-top: 6px;
    color: var(--muted);
    font-size: 13px;
    line-height: 1.4;
    max-width: 54ch;
}

.rPills {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
    justify-content: flex-end;
}

.rStatusPill {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 7px 10px;
    border-radius: 999px;
    border: 1px solid var(--stroke2);
    background: rgba(0, 0, 0, .22);
    font-weight: 800;
    font-size: 13px;
}

.rStatusDot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: #eab308;
    box-shadow: 0 0 0 5px rgba(234, 179, 8, .12);
}

/* Smart badge */
.nlpBadge {
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 7px 10px;
    border-radius: 999px;
    border: 1px solid var(--stroke2);
    background: rgba(0, 0, 0, .22);
    color: var(--text);
    font-weight: 900;
    font-size: 13px;
    transition: transform .12s ease, border-color .12s ease, background .12s ease;
}

.nlpBadge:hover {
    transform: translateY(-1px);
    border-color: rgba(255, 255, 255, .26);
    background: rgba(0, 0, 0, .28);
}

.nlpBadge:active {
    transform: translateY(0px) scale(.98);
}

.nlpDot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: #22c55e;
    box-shadow: 0 0 0 5px rgba(34, 197, 94, .12);
}

.nlpOk .nlpDot {
    background: #22c55e;
    box-shadow: 0 0 0 5px rgba(34, 197, 94, .12);
}

.nlpWarn .nlpDot {
    background: #eab308;
    box-shadow: 0 0 0 5px rgba(234, 179, 8, .12);
}

.nlpBad .nlpDot {
    background: #ef4444;
    box-shadow: 0 0 0 5px rgba(239, 68, 68, .12);
}

/* score row */
.rScoreRow {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 12px;
    margin-top: 14px;
}

.rScoreBig {
    display: flex;
    align-items: baseline;
    gap: 10px;
}

.scoreNumber {
    font-weight: 950;
    font-size: 56px;
    letter-spacing: -.7px;
}

.rScoreOver {
    color: var(--muted);
    font-weight: 800;
}

.rMetaStack {
    display: grid;
    gap: 8px;
    min-width: 210px;
}

.rMetaLine {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .18);
}

.rMetaLabel {
    color: var(--muted);
    font-weight: 700;
    font-size: 13px;
}

.rMetaValue {
    font-weight: 900;
    font-size: 13px;
}

.rCallout {
    margin-top: 12px;
    padding: 12px 12px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .22);
}

.rCalloutTitle {
    font-weight: 900;
    font-size: 13px;
}

.rCalloutBody {
    margin-top: 6px;
    color: var(--muted);
    font-size: 13px;
    line-height: 1.4;
}

.rMiniNote {
    margin-top: 10px;
    color: rgba(255, 255, 255, .55);
    font-size: 12px;
}

/* themes */
.rThemeOk .rStatusDot {
    background: #22c55e;
    box-shadow: 0 0 0 5px rgba(34, 197, 94, .12);
}

.rThemeWarn .rStatusDot {
    background: #eab308;
    box-shadow: 0 0 0 5px rgba(234, 179, 8, .12);
}

.rThemeBad .rStatusDot {
    background: #ef4444;
    box-shadow: 0 0 0 5px rgba(239, 68, 68, .12);
}

.rThemeOk .rDonutValue {
    stroke: #22c55e;
}

.rThemeWarn .rDonutValue {
    stroke: #eab308;
}

.rThemeBad .rDonutValue {
    stroke: #ef4444;
}

/* donut */
.rDonutWrap {
    display: grid;
    grid-template-columns: 160px 1fr;
    gap: 16px;
    align-items: center;
    margin-top: 12px;
}

.rDonut {
    width: 160px;
    height: 160px;
    position: relative;
}

.rDonutSvg {
    width: 160px;
    height: 160px;
    transform: rotate(-90deg);
}

.rDonutTrack {
    fill: none;
    stroke: rgba(255, 255, 255, .10);
    stroke-width: 12;
}

.rDonutValue {
    fill: none;
    stroke-width: 12;
    stroke-linecap: round;
    stroke-dasharray: 0 9999;
}

.donutDraw {
    will-change: stroke-dasharray;
}

.rDonutCenter {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    pointer-events: none;
}

.rDonutPct {
    font-weight: 950;
    font-size: 28px;
}

.rDonutLabel {
    margin-top: 4px;
    color: var(--muted);
    font-size: 12px;
    font-weight: 800;
}

.rLegend {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .18);
    padding: 12px;
}

.rLegendRow {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--muted);
    font-size: 13px;
    margin: 6px 0;
    font-weight: 700;
}

.rSwatch {
    width: 10px;
    height: 10px;
    border-radius: 999px;
}

.rSwatch.ok {
    background: #22c55e;
}

.rSwatch.warn {
    background: #eab308;
}

.rSwatch.bad {
    background: #ef4444;
}

/* blockers */
.blockers {
    display: grid;
    gap: 10px;
    margin-top: 12px;
}

.blockerCard {
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .18);
    padding: 12px;
}

.blockerTop {
    display: flex;
    align-items: center;
    gap: 10px;
}

.blockerNum {
    width: 26px;
    height: 26px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(160, 110, 255, .16);
    border: 1px solid rgba(160, 110, 255, .30);
    font-weight: 950;
}

.blockerTitle {
    font-weight: 900;
}

.blockerReason {
    margin-top: 8px;
    color: var(--muted);
    font-size: 13px;
    line-height: 1.4;
}

.blockerEv {
    margin-top: 8px;
    color: rgba(255, 255, 255, .60);
    font-size: 12px;
    line-height: 1.4;
}

.actionsList {
    display: grid;
    gap: 10px;
    margin-top: 12px;
}

.actionRow {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    padding: 10px 12px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .18);
}

.checkDot {
    margin-top: 4px;
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: rgba(160, 110, 255, .95);
    box-shadow: 0 0 0 6px rgba(160, 110, 255, .14);
}

.actionText {
    color: var(--muted);
    font-size: 13px;
    line-height: 1.45;
    font-weight: 700;
}

.emptyMini {
    color: rgba(255, 255, 255, .55);
    font-size: 13px;
    padding: 10px 0;
}

/* table */
.rTableCard {
    margin-top: 14px;
}

.wideHead {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: 12px;
}

.miniTitle {
    font-weight: 950;
    font-size: 15px;
}

.miniSub {
    margin-top: 4px;
    color: var(--muted);
    font-size: 13px;
}

.legend {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: flex-end;
}

.tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 6px 10px;
    border-radius: 999px;
    font-weight: 950;
    font-size: 12px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .20);
}

.tag.pass {
    border-color: rgba(34, 197, 94, .35);
}

.tag.weak {
    border-color: rgba(234, 179, 8, .35);
}

.tag.fail {
    border-color: rgba(239, 68, 68, .35);
}

.tableWrap {
    overflow: auto;
    border-radius: 18px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .16);
}

.checksTable {
    width: 100%;
    border-collapse: collapse;
    min-width: 760px;
}

.checksTable th {
    text-align: left;
    padding: 12px 12px;
    color: rgba(255, 255, 255, .86);
    font-weight: 950;
    font-size: 13px;
    border-bottom: 1px solid rgba(255, 255, 255, .08);
    background: rgba(0, 0, 0, .18);
    position: sticky;
    top: 0;
    z-index: 2;
}

.checksTable td {
    padding: 12px 12px;
    border-bottom: 1px solid rgba(255, 255, 255, .06);
    vertical-align: top;
}

.tdStrong {
    font-weight: 900;
}

.tdMuted {
    color: var(--muted);
}

.tdTiny {
    font-size: 12px;
    opacity: .75;
    margin-top: 4px;
}

.reportFoot {
    margin-top: 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    flex-wrap: wrap;
}

.micro {
    color: rgba(255, 255, 255, .55);
    font-size: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 700;
}

.micro .dot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: rgba(160, 110, 255, .95);
    box-shadow: 0 0 0 6px rgba(160, 110, 255, .14);
}

.footBtns {
    display: flex;
    gap: 10px;
}

.footer {
    margin-top: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    color: rgba(255, 255, 255, .55);
    font-size: 12px;
    font-weight: 700;
}

.footer .sep {
    opacity: .5;
}

/* ---------- Animations ---------- */
.animIn {
    animation: fadeUp .35s ease both;
}

.rowAnim {
    animation: fadeUp .30s ease both;
}

@keyframes fadeUp {
    from {
        opacity: 0;
        transform: translateY(6px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.scorePop {
    animation: pop .35s cubic-bezier(.2, .8, .2, 1) both;
}

@keyframes pop {
    0% {
        transform: translateY(2px) scale(.98);
        opacity: .85;
    }

    100% {
        transform: translateY(0) scale(1);
        opacity: 1;
    }
}

.scoreGlow {
    text-shadow: 0 0 22px rgba(160, 110, 255, .30);
}

/* ---------- Skeleton ---------- */
.skeletonWrap {
    padding: 8px;
}

.skeletonHero {
    display: grid;
    grid-template-columns: 1.2fr .9fr;
    gap: 14px;
}

.skeletonGrid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-top: 14px;
}

.skCard {
    border-radius: 22px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(255, 255, 255, .05);
    padding: 16px;
    position: relative;
    overflow: hidden;
}

.skTall {
    min-height: 260px;
}

.skLine {
    height: 14px;
    border-radius: 999px;
    background: rgba(255, 255, 255, .10);
    margin: 10px 0;
}

.skBlock {
    height: 120px;
    border-radius: 18px;
    background: rgba(255, 255, 255, .08);
    margin-top: 14px;
}

.skDonut {
    width: 140px;
    height: 140px;
    border-radius: 999px;
    border: 12px solid rgba(255, 255, 255, .08);
    border-top-color: rgba(255, 255, 255, .16);
    margin: 16px 0 8px;
}

.w35 {
    width: 35%;
}

.w40 {
    width: 40%;
}

.w55 {
    width: 55%;
}

.w60 {
    width: 60%;
}

.w65 {
    width: 65%;
}

.w70 {
    width: 70%;
}

.w80 {
    width: 80%;
}

.w85 {
    width: 85%;
}

.w90 {
    width: 90%;
}

.skCard::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(110deg, transparent 0%, rgba(255, 255, 255, .10) 25%, transparent 45%);
    transform: translateX(-60%);
    animation: shimmer 1.2s ease-in-out infinite;
}

@keyframes shimmer {
    0% {
        transform: translateX(-60%);
    }

    100% {
        transform: translateX(60%);
    }
}

/* ---------- Modal ---------- */
body.modalOpen {
    overflow: hidden;
}

.rxModal {
    position: fixed;
    inset: 0;
    z-index: 999999;
}

.rxModalBackdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, .55);
    backdrop-filter: blur(6px);
}

.rxModalDialog {
    position: relative;
    width: min(720px, calc(100vw - 28px));
    margin: 10vh auto;
    border-radius: 22px;
    border: 1px solid rgba(255, 255, 255, .14);
    background: linear-gradient(180deg, rgba(35, 20, 60, .92), rgba(12, 12, 26, .92));
    box-shadow: 0 30px 90px rgba(0, 0, 0, .60);
    overflow: hidden;
}

.rxModalHead {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    padding: 16px 16px 12px;
    border-bottom: 1px solid rgba(255, 255, 255, .08);
}

.rxModalTitle {
    font-weight: 950;
    font-size: 16px;
}

.rxModalSub {
    margin-top: 4px;
    color: var(--muted);
    font-size: 13px;
    line-height: 1.35;
}

.rxModalClose {
    cursor: pointer;
    border: 1px solid rgba(255, 255, 255, .12);
    background: rgba(255, 255, 255, .06);
    color: var(--text);
    font-weight: 950;
    border-radius: 12px;
    width: 36px;
    height: 36px;
}

.rxModalBody {
    padding: 14px 16px;
    display: grid;
    gap: 10px;
}

.kvRow {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, .10);
    background: rgba(0, 0, 0, .18);
}

.kvKey {
    color: rgba(255, 255, 255, .82);
    font-weight: 900;
    font-size: 13px;
}

.kvVal {
    color: var(--text);
    font-weight: 900;
    font-size: 13px;
}

.kvVal.muted {
    color: rgba(255, 255, 255, .55);
    font-weight: 800;
}

.rxModalFoot {
    padding: 12px 16px 16px;
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    border-top: 1px solid rgba(255, 255, 255, .08);
}

/* ---- Responsive ---- */
@media (max-width: 980px) {
    .rHeroGrid {
        grid-template-columns: 1fr;
    }

    .rDonutWrap {
        grid-template-columns: 160px 1fr;
    }
}

@media (max-width: 760px) {
    .rGrid2 {
        grid-template-columns: 1fr;
    }

    .rDonutWrap {
        grid-template-columns: 1fr;
    }

    .rDonut {
        margin: 0 auto;
    }

    .rLegend {
        margin-top: 10px;
    }

    .scoreNumber {
        font-size: 50px;
    }

    .rMetaStack {
        min-width: 0;
        width: 100%;
    }
}

@media (max-width: 520px) {
    .topbar {
        position: static;
    }

    .wrap {
        padding: 16px 12px 30px;
    }

    .panel {
        padding: 12px;
    }

    .rScoreRow {
        flex-direction: column;
        align-items: flex-start;
    }

    .rMetaStack {
        width: 100%;
    }

    .chips {
        justify-content: flex-start;
    }
}